<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="head"></th:block>

<body>

<th:block th:replace="Header"></th:block>

<div class="d-flex flex-column  align-items-center  m-5 min-vh-100">
    <div class="container">
        <h2 class="m-5">Compare the best companies on Great Reviews! </h2>
        <div class="row ">
            <div class="col-sm">
                <th:block th:replace="Categories :: categories"></th:block>
            </div>

            <div class="col-sm " id="subcats">
                <small th:text="|Choose a subcategory of ${activeCategory}|"  class="text-muted ">Choose a subcategory</small>

                <div th:inline="text" class="list-group list-group-flush">
                    <a th:each="sub : ${subcategories}"
                            th:href="@{/companies/show(in=${sub.id})}" class="list-group-item list-group-item-action align-self-center d-flex justify-content-between"


                    >
                        [[${sub.name}]]
                        <span class="badge badge-pill badge-primary">[[${sub.companiesCount}]]</span>
                    </a>

                </div>

            </div>




        </div>
    </div>



</div>








<th:block th:replace="Footer"></th:block>
</body>

<script>

    var isInViewport = function (elem) {
        var bounding = elem.getBoundingClientRect();
        return (
            bounding.top >= 0 &&
            bounding.left >= 0 &&
            bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    };

    if(!isInViewport(
   document.querySelector("#activeCategory")
    )){
        location.hash = "subcats";
    }







</script>
</html>